{"ast":null,"code":"import _toConsumableArray from\"E:\\\\projects\\\\SonnenBrille\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:\\\\projects\\\\SonnenBrille\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";export var initialState={basket:[],user:null};export var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case'SET_USER':return _objectSpread(_objectSpread({},state),{},{user:action.user});case'ADD_TO_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});break;case'REMOVE_FROM_BASKET':var newBasket=_toConsumableArray(state.basket);var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});if(index>=0){//item exists\nnewBasket.splice(index,1);}else{console.warn(\"Cant remove product (id:\".concat(action.id,\")\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});break;default:return state;}};export default reducer;","map":{"version":3,"sources":["E:/projects/SonnenBrille/src/reducer.js"],"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","newBasket","index","findIndex","basketItem","id","splice","warn"],"mappings":"mTAAA,MAAO,IAAMA,CAAAA,YAAY,CAAC,CACtBC,MAAM,CAAC,EADe,CAEtBC,IAAI,CAAC,IAFiB,CAAnB,CAOP,MAAO,IAAMC,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,CAACF,MAAD,QAC5BA,CAAAA,MAD4B,SAC5BA,MAD4B,iBAC5BA,MAAM,CAAEG,MAAR,CAAe,SAACC,MAAD,CAAQC,IAAR,QAAeA,CAAAA,IAAI,CAACC,KAAL,CAAWF,MAA1B,EAAf,CAAgD,CAAhD,CAD4B,EAArB,CAGP,GAAMG,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,KAAD,CAAOC,MAAP,CAAiB,CAC3BC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EAEI,IAAK,UAAL,CACK,sCACOJ,KADP,MAEIP,IAAI,CAACQ,MAAM,CAACR,IAFhB,GAIL,IAAK,eAAL,CACI,sCACOO,KADP,MAEIR,MAAM,8BAAKQ,KAAK,CAACR,MAAX,GAAkBS,MAAM,CAACJ,IAAzB,EAFV,GAIA,MACJ,IAAK,oBAAL,CACI,GAAIQ,CAAAA,SAAS,oBAAKL,KAAK,CAACR,MAAX,CAAb,CAEA,GAAMc,CAAAA,KAAK,CAACN,KAAK,CAACR,MAAN,CAAae,SAAb,CACR,SAACC,UAAD,QAAcA,CAAAA,UAAU,CAACC,EAAX,GAAgBR,MAAM,CAACQ,EAArC,EADQ,CAAZ,CAIC,GAAGH,KAAK,EAAE,CAAV,CACA,CACI;AACAD,SAAS,CAACK,MAAV,CAAiBJ,KAAjB,CAAuB,CAAvB,EACH,CAJD,IAIM,CACFJ,OAAO,CAACS,IAAR,mCAC+BV,MAAM,CAACQ,EADtC,OAGH,CAEF,sCAAWT,KAAX,MAAiBR,MAAM,CAACa,SAAxB,GACA,MACA,QACI,MAAOL,CAAAA,KAAP,CAjCZ,CAmCH,CArCD,CAsCA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState={\r\n    basket:[],\r\n    user:null,\r\n    \r\n}\r\n\r\n\r\nexport const getBasketTotal=(basket)=>\r\nbasket?.reduce((amount,item)=>item.price+amount,0)\r\n\r\nconst reducer=(state,action)=> {\r\n    console.log(action)\r\n    switch (action.type){\r\n\r\n        case 'SET_USER':\r\n             return {\r\n                 ...state,\r\n                 user:action.user\r\n             }\r\n        case 'ADD_TO_BASKET':\r\n            return {\r\n                ...state,\r\n                basket:[...state.basket,action.item]\r\n        }\r\n            break;\r\n        case 'REMOVE_FROM_BASKET':\r\n            let newBasket=[...state.basket];\r\n\r\n            const index=state.basket.findIndex(\r\n                (basketItem)=>basketItem.id===action.id\r\n                );\r\n\r\n             if(index>=0)\r\n             {\r\n                 //item exists\r\n                 newBasket.splice(index,1)\r\n             }else {\r\n                 console.warn(\r\n                     `Cant remove product (id:${action.id})`\r\n                 )\r\n             }\r\n\r\n            return {...state,basket:newBasket}\r\n            break;\r\n            default:\r\n                return state;\r\n    }\r\n}\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}